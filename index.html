<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-V4HX7K4NX2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-V4HX7K4NX2');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Kartel - Where Business Meets the Track</title>
    <style>
        @font-face { font-family: 'League Spartan'; src: url('assets/League_Spartan/LeagueSpartan-VariableFont_wght.ttf') format('truetype'); font-weight: 100 900; font-style: normal; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'League Spartan', 'Arial', sans-serif; line-height: 1.6; color: #2c3e50; overflow-x: hidden; background: #f8f9fa; }
        /* Header Band */
        .header-band { background: #1a252f; padding: 15px 0; position: relative; z-index: 10; box-shadow: 0 2px 10px rgba(0,0,0,0.3); }
        .header-content { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; align-items: center; justify-content: space-between; }
        .header-logo { display: flex; align-items: center; gap: 15px; }
        .header-logo img { height: 50px; width: auto; }
        .header-title { font-size: 1.8rem; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; color: #ffffff; font-family: 'League Spartan', sans-serif; margin: 0; }
        .header-members-link { color: #ecf0f1; text-decoration: none; font-size: 0.9rem; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; padding: 8px 20px; border: 1px solid rgba(236, 240, 241, 0.3); border-radius: 25px; transition: all 0.3s ease; background: rgba(44, 62, 80, 0.6); backdrop-filter: blur(10px); font-family: 'League Spartan', sans-serif; }
        .header-members-link:hover { color: #e67e22; border-color: #e67e22; background: rgba(230, 126, 34, 0.15); transform: translateY(-2px); box-shadow: 0 4px 15px rgba(230, 126, 34, 0.2); }
        
        /* City Selection Banner */
        .city-selection-banner { background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); padding: 15px 0; color: white; text-align: center; border-bottom: 3px solid #a93226; }
        .city-selection-content { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; align-items: center; justify-content: center; gap: 20px; flex-wrap: wrap; }
        .city-selection-text { font-weight: 600; font-size: 1rem; }
        .city-buttons { display: flex; gap: 10px; flex-wrap: wrap; }
        .city-btn { background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 8px 16px; border-radius: 20px; text-decoration: none; font-weight: 600; font-size: 0.9rem; transition: all 0.3s ease; }
        .city-btn:hover { background: rgba(255,255,255,0.3); transform: translateY(-1px); }
        .city-btn.active { background: white; color: #e74c3c; }
        @media (max-width: 768px) {
            .city-selection-content { flex-direction: column; gap: 15px; }
            .city-selection-text { font-size: 0.9rem; }
        }
        
        .hero { height: calc(100vh - 80px); background: linear-gradient(135deg, #2c3e50 0%, #34495e 50%, #2c3e50 100%); position: relative; display: flex; align-items: center; justify-content: center; text-align: center; overflow: hidden; }
        .hero::before {   content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at 20% 80%, rgba(52, 152, 219, 0.15) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(230, 126, 34, 0.15) 0%, transparent 50%), radial-gradient(circle at 40% 40%, rgba(93, 173, 226, 0.1) 0%, transparent 50%); animation: pulse 8s ease-in-out infinite alternate; }
        @keyframes pulse { 0% { opacity: 0.3; } 100% { opacity: 0.7; } }
        .hero-content { z-index: 2; max-width: 800px; padding: 0 20px; }
        .tagline { font-size: 1.4rem; margin-bottom: 30px; color: #bdc3c7; font-weight: 300; letter-spacing: 2px; font-style: italic; }
        .hero-description { font-size: 1.2rem; margin-bottom: 40px; color: #ecf0f1; max-width: 650px; margin-left: auto; margin-right: auto; opacity: 0.9; }
        .cta-button { display: inline-block; padding: 15px 40px; background: linear-gradient(45deg, #3498db, #2980b9); color: white; text-decoration: none; border-radius: 5px; font-weight: 700; font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; transition: all 0.3s ease; border: 2px solid transparent; position: relative; overflow: hidden; font-family: 'League Spartan', sans-serif; }
        .cta-button::before {   content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent); transition: left 0.5s; }
        .cta-button:hover::before {   left: 100%; }
        .cta-button:hover {  transform: translateY(-2px); box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4); border-color: #e67e22; background: linear-gradient(45deg, #e67e22, #d35400); }
        .hero-nav { margin-top: 40px; display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; }
        .nav-link { color: #bdc3c7; text-decoration: none; font-size: 0.95rem; font-weight: 500; text-transform: uppercase; letter-spacing: 1px; padding: 8px 16px; border: 1px solid rgba(189, 195, 199, 0.3); border-radius: 25px; transition: all 0.3s ease; background: rgba(44, 62, 80, 0.3); backdrop-filter: blur(10px); font-family: 'League Spartan', sans-serif; }
        .nav-link:hover {  color: #e67e22; border-color: #e67e22; background: rgba(230, 126, 34, 0.1); transform: translateY(-2px); }
        .section { padding: 80px 0; position: relative; }
        .video-showcase { background: linear-gradient(135deg, #2c3e50 0%, #34495e 50%, #2c3e50 100%); color: #ecf0f1; }
        .video-showcase .section-title { color: #ecf0f1; }
        .video-showcase .section-subtitle { color: #bdc3c7; }
        .video-container { position: relative; padding-bottom: 56.25%; /* 16:9 aspect ratio */ height: 0; overflow: hidden; max-width: 800px; margin: 0 auto; border-radius: 15px; box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3); border: 3px solid #3498db; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 12px; }
        .about { background: #ffffff; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .section-title { font-size: 3rem; text-align: center; margin-bottom: 20px; color: #2c3e50; font-weight: 800; text-transform: uppercase; letter-spacing: 3px; position: relative; font-family: 'League Spartan', sans-serif; }
        .section-subtitle { text-align: center; font-size: 1.2rem; color: #7f8c8d; margin-bottom: 60px; font-style: italic; font-family: 'League Spartan', sans-serif; }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 40px; margin-top: 60px; }
        .feature-card { background: #ffffff; border-radius: 10px; padding: 40px; text-align: center; border: 2px solid #ecf0f1; transition: all 0.3s ease; position: relative; overflow: hidden; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05); }
        .feature-card::before {   content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px; background: linear-gradient(90deg, #3498db, #e67e22); transform: scaleX(0); transition: transform 0.3s ease; }
        .feature-card:hover::before {   transform: scaleX(1); }
        .feature-card:hover {  transform: translateY(-8px); border-color: #3498db; box-shadow: 0 15px 35px rgba(52, 152, 219, 0.15); }
        .feature-icon { font-size: 4rem; margin-bottom: 25px; color: #3498db; }
        .feature-title { font-size: 1.8rem; margin-bottom: 20px; color: #2c3e50; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; font-family: 'League Spartan', sans-serif; }
        .feature-description { font-size: 1.1rem; color: #5d6d7e; line-height: 1.7; }
        .event-format { background: linear-gradient(135deg, #ecf0f1 0%, #bdc3c7 50%, #ecf0f1 100%); }
        .timeline { display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap; gap: 40px; margin-top: 60px; }
        .timeline-item { text-align: center; flex: 1; min-width: 250px; position: relative; }
        .timeline-item::after {   content: '‚Üí'; position: absolute; right: -60px; top: 50%; transform: translateY(-50%); font-size: 2.5rem; color: #3498db; font-weight: bold; }
        .timeline-item:last-child::after {   display: none; }
        .timeline-number { width: 80px; height: 80px; border-radius: 5px; background: linear-gradient(45deg, #2c3e50, #34495e); display: flex; align-items: center; justify-content: center; font-size: 2.2rem; font-weight: 800; margin: 0 auto 25px; color: #ffffff; border: 3px solid #3498db; font-family: 'League Spartan', sans-serif; }
        .timeline-title { font-size: 1.6rem; margin-bottom: 15px; color: #2c3e50; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; font-family: 'League Spartan', sans-serif; }
        .timeline-description { color: #5d6d7e; font-size: 1.1rem; line-height: 1.6; }
        .contact { background: #2c3e50; color: #ecf0f1; }
        .contact .section-title { color: #ecf0f1; }
        .contact .section-subtitle { color: #bdc3c7; }
        .contact-form { max-width: 600px; margin: 0 auto; background: rgba(236, 240, 241, 0.05); padding: 50px; border-radius: 10px; backdrop-filter: blur(10px); border: 2px solid rgba(52, 152, 219, 0.3); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); }
        .form-group { margin-bottom: 30px; }
        .form-group label { display: block; margin-bottom: 10px; color: #e67e22; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; font-size: 0.9rem; font-family: 'League Spartan', sans-serif; }
        .form-group input, .form-group textarea { width: 100%; padding: 15px; background: rgba(236, 240, 241, 0.1); border: 2px solid rgba(52, 152, 219, 0.3); border-radius: 5px; color: #ecf0f1; font-size: 1rem; transition: border-color 0.3s ease; font-family: 'League Spartan', sans-serif; }
        .form-group input:focus, .form-group textarea:focus {  outline: none; border-color: #e67e22; box-shadow: 0 0 15px rgba(230, 126, 34, 0.3); }
        .form-group input::placeholder, .form-group textarea::placeholder {   color: rgba(236, 240, 241, 0.6); }
        .submit-btn { width: 100%; padding: 18px; background: linear-gradient(45deg, #3498db, #2980b9); color: white; border: none; border-radius: 5px; font-size: 1.2rem; font-weight: 700; text-transform: uppercase; letter-spacing: 2px; cursor: pointer; transition: all 0.3s ease; font-family: 'League Spartan', sans-serif; }
        .submit-btn:hover {  transform: translateY(-3px); box-shadow: 0 10px 25px rgba(52, 152, 219, 0.4); background: linear-gradient(45deg, #e67e22, #d35400); }
        .submit-btn:disabled {  opacity: 0.7; cursor: not-allowed; transform: none; }
        .form-message { padding: 15px; margin: 20px 0; border-radius: 5px; font-weight: 600; text-align: center; }
        .form-message-success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .form-message-error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .faq { background: #ffffff; }
        .faq-accordion { max-width: 800px; margin: 0 auto; margin-top: 40px; }
        .faq-item { background: #ffffff; border: 1px solid #ecf0f1; border-radius: 8px; margin-bottom: 15px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); overflow: hidden; }
        .faq-question { background: #f8f9fa; color: #2c3e50; cursor: pointer; padding: 20px 25px; width: 100%; border: none; text-align: left; outline: none; font-size: 1.2rem; font-weight: 600; transition: background-color 0.3s ease; position: relative; display: flex; justify-content: space-between; align-items: center; font-family: 'League Spartan', sans-serif; }
        .faq-question:hover {  background-color: #e9ecef; }
        .faq-question::after {   content: '+'; font-size: 1.8rem; color: #3498db; transition: transform 0.3s ease; }
        .faq-item.active .faq-question::after {   content: '‚àí'; transform: rotate(180deg); }
        .faq-answer { padding: 0 25px; background-color: white; max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out, padding 0.4s ease-out; color: #5d6d7e; line-height: 1.7; }
        .gallery { background: #f8f9fa; }
        .gallery-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 40px; }
        .gallery-item { position: relative; border-radius: 10px; overflow: hidden; cursor: pointer; transition: transform 0.3s ease; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); }
        .gallery-item:hover {  transform: translateY(-5px); box-shadow: 0 10px 25px rgba(231, 76, 60, 0.2); }
        .gallery-item img { width: 100%; height: 250px; object-fit: cover; display: block; }
        .gallery-overlay { position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(transparent, rgba(44, 62, 80, 0.8)); color: white; padding: 20px; transform: translateY(100%); transition: transform 0.3s ease; }
        .gallery-item:hover .gallery-overlay { transform: translateY(0); }
        .gallery-overlay span { font-weight: 600; font-size: 1.1rem; }
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); }
        .modal-content { margin: auto; display: block; width: 80%; max-width: 700px; max-height: 80%; object-fit: contain; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
        .close { position: absolute; top: 20px; right: 35px; color: #f1f1f1; font-size: 40px; font-weight: bold; cursor: pointer; }
        .close:hover {  color: #3498db; }
        #caption { margin: auto; display: block; width: 80%; max-width: 700px; text-align: center; color: #ccc; padding: 10px 0; position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); }
        .racing-stripe { position: fixed; top: 0; left: 0; width: 100%; height: 5px; background: linear-gradient(90deg, #3498db, #e67e22, #3498db); background-size: 200% 100%; animation: stripe-move 3s linear infinite; z-index: 1000; }
        @keyframes stripe-move { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }
        @keyframes pulse-badge { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .header-band { padding: 12px 0; }
            .header-content { padding: 0 15px; }
            .header-logo img { height: 40px; }
            .header-title { font-size: 1.4rem; letter-spacing: 1px; }
            .header-members-link { font-size: 0.8rem; padding: 6px 15px; }
            .hero-nav { gap: 15px; margin-top: 30px; }
            .nav-link { font-size: 0.85rem; padding: 6px 12px; }
            .tagline { font-size: 1.1rem; }
            .hero-description { font-size: 1rem; }
            .section-title { font-size: 2.2rem; }
            .features-grid { grid-template-columns: 1fr; gap: 30px; }
            .timeline { flex-direction: column; }
            .timeline-item::after { content: '‚Üì'; right: 50%; top: 100%; transform: translateX(50%); }
            .timeline-item:last-child::after { display: none; }
            .contact-form { margin: 0 20px; padding: 30px 25px; }
            .gallery-grid { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; }
            .gallery-item img { height: 200px; }
            .modal-content { width: 95%; }
        }
        @media (max-width: 480px) {
            .hero-content { padding: 0 15px; }
            .header-logo { flex-direction: column; gap: 8px; text-align: center; }
            .header-logo img { height: 35px; }
            .header-title { font-size: 1.2rem; letter-spacing: 1px; }
            .header-content { flex-direction: column; gap: 10px; }
            .section { padding: 60px 0; }
            .feature-card { padding: 30px 20px; }
        }
    </style>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
</head>
<body>
    <div class="racing-stripe"></div>
    
    <!-- HEADER BAND -->
    <header class="header-band">
        <div class="header-content">
            <div class="header-logo">
                <img src="assets/the-kartel-logo-crop.png" alt="The Kartel Logo" />
                <h1 class="header-title">The Kartel</h1>
            </div>
            <a href="members.html" class="header-members-link">Members Area</a>
        </div>
    </header>
    
    <!-- CITY SELECTION BANNER -->
    <div class="city-selection-banner">
        <div class="city-selection-content">
            <div class="city-selection-text">Choose Your City:</div>
            <div class="city-buttons">
                <a href="?city=manchester" class="city-btn active" data-city="manchester">Manchester</a>
                <a href="more-cities.html" class="city-btn">More Cities Soon</a>
            </div>
        </div>
    </div>
    
    <!-- HERO SECTION -->
    <section class="hero">
        <div class="hero-content">
            <p class="tagline">Where Business Meets the Track</p>
            <p class="hero-description" id="heroDescription">
                An exclusive networking collective for ambitious professionals in Greater Manchester. 
                Connect, compete, and collaborate through the unique blend of high-speed karting and strategic business networking.
            </p>
            <a href="#contact" class="cta-button">Request Membership</a>
            <nav class="hero-nav">
                <a href="#video" class="nav-link">See The Action</a>
                <a href="#about" class="nav-link">The Experience</a>
                <a href="#event-format" class="nav-link">Event Structure</a>
                <a href="#contact" class="nav-link">Join Us</a>
                <a href="#faq" class="nav-link">FAQ</a>
                <a href="#gallery" class="nav-link">Gallery</a>
            </nav>
        </div>
    </section>

    <!-- VIDEO SHOWCASE SECTION -->
    <section class="section video-showcase" id="video">
        <div class="container">
            <h2 class="section-title">Experience the Rush</h2>
            <p class="section-subtitle">Get a taste of what awaits you at The Kartel</p>
            <div class="video-container" id="experienceVideoContainer">
                <iframe src="https://player.vimeo.com/video/1092055210?badge=0&autopause=0&player_id=0&app_id=58479" 
                        frameborder="0" 
                        allow="autoplay; fullscreen; picture-in-picture; clipboard-write" 
                        title="The Kartel Racing Experience">
                </iframe>
            </div>
        </div>
    </section>

    <!-- ABOUT SECTION -->
    <section class="section about" id="about">
        <div class="container">
            <h2 class="section-title">The Experience</h2>
            <p class="section-subtitle">Premium networking redefined through competition and connection</p>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üèÅ</div>
                    <h3 class="feature-title">Elite Competition</h3>
                    <p class="feature-description">
                        Experience the thrill of competitive karting while building meaningful professional relationships. 
                        Our carefully curated events bring together industry leaders and ambitious professionals.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ü§ù</div>
                    <h3 class="feature-title">Strategic Connections</h3>
                    <p class="feature-description">
                        Move beyond traditional networking. Build authentic relationships through shared experiences 
                        and discover collaboration opportunities that drive real business results.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ü•Ç</div>
                    <h3 class="feature-title">Exclusive Access</h3>
                    <p class="feature-description">
                        Join an exclusive community of professionals who value innovation and results. 
                        Access premium venues, curated experiences, and a network that opens doors.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- EVENT FORMAT SECTION -->
    <section class="section event-format" id="event-format">
        <div class="container">
            <h2 class="section-title">Event Structure</h2>
            <p class="section-subtitle">A carefully designed experience for maximum impact</p>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-number">1</div>
                    <h3 class="timeline-title">Opening Session</h3>
                    <p class="timeline-description">15 minutes of competitive karting to break barriers and reveal character</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-number">2</div>
                    <h3 class="timeline-title">Pit Stop</h3>
                    <p class="timeline-description">Refreshments and initial connections while discussing the track experience</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-number">3</div>
                    <h3 class="timeline-title">Beat <br />the Clock</h3>
                    <p class="timeline-description">Second 15-minute session to set your best lap</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-number">4</div>
                    <h3 class="timeline-title">Post Race Networking</h3>
                    <p class="timeline-description">Relaxed post-race gathering where partnerships are forged</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTACT SECTION -->
    <section id="contact" class="section contact">
        <div class="container">
            <h2 class="section-title">Join The Kartel</h2>
            <p class="section-subtitle">Membership is selective. Applications are reviewed personally.</p>
            <form class="contact-form" id="contactForm">
                <div class="form-group">
                    <label for="firstName">First Name *</label>
                    <input type="text" id="firstName" name="firstName" required placeholder="Your first name">
                </div>
                <div class="form-group">
                    <label for="lastName">Last Name *</label>
                    <input type="text" id="lastName" name="lastName" required placeholder="Your last name">
                </div>
                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required placeholder="Your professional email">
                </div>
                <div class="form-group">
                    <label for="company">Company *</label>
                    <input type="text" id="company" name="company" required placeholder="Your company name">
                </div>
                <div class="form-group">
                    <label for="position">Position *</label>
                    <input type="text" id="position" name="position" required placeholder="Your job title or role">
                </div>
                <div class="form-group">
                    <label for="phone">Mobile Number *</label>
                    <input type="tel" id="phone" name="phone" required placeholder="For WhatsApp group access">
                </div>
                <div class="form-group">
                    <label for="linkedin">LinkedIn Profile</label>
                    <input type="text" id="linkedin" name="linkedin" placeholder="Your LinkedIn username (e.g., john-smith)">
                    <small style="color: #666; font-size: 0.85em; display: block; margin-top: 5px;">Just enter your username - we'll add linkedin.com/in/ automatically</small>
                </div>
                <div class="form-group">
                    <label for="message">Why The Kartel? *</label>
                    <textarea id="message" name="message" rows="4" required placeholder="Tell us what you're looking to achieve through this exclusive network"></textarea>
                </div>
                <button type="submit" class="submit-btn">Submit Application</button>
            </form>
            <p style="text-align: center; margin-top: 30px; opacity: 0.8; font-style: italic;">
                üì± <strong>Successful applicants</strong> receive exclusive access to our private WhatsApp community
            </p>
        </div>
    </section>

    <!-- FAQ SECTION -->
    <section class="section faq" id="faq">
        <div class="container">
            <h2 class="section-title">Frequently Asked Questions</h2>
            <p class="section-subtitle">Answers to common enquiries about The Kartel.</p>
            <div class="faq-accordion" id="faqAccordion">
                <!-- Static FAQs as fallback -->
                <div class="faq-item">
                    <button class="faq-question">How much does membership cost?</button>
                    <div class="faq-answer">
                        <p style="padding: 20px 0;">Membership is free right now. You just pay for your karting session and any food or drinks afterwards.</p>
                        <p style="padding: 20px 0;">You can choose to pay for membership of TeamSport to reduce the cost of each karting session (see below). </p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">How much does a karting session cost?</button>
                    <div class="faq-answer">
                        <p style="padding: 20px 0;">This depends on which track we go to, and which type of race we do. But most often we will be going to TeamSport Victoria.</p>
                        <p style="padding: 20px 0;">Headline costs for the Ultimate Race Experience here, including 2x15 minute sessions, is around ¬£45, but you can reduce this cost in a number of ways.</p>
                        <ol style="padding: 20px 0 0 20px;">
                            <li>Use the code GET10 at checkout to take 10% of the cost.</li>
                            <li>Join TeamSport as a member. The basic membership tier ('Social') costs ¬£7.99 a year and reduces the cost of each session by 20%. </li>
                            <li>The middle ('Club') and upper ('Elite) tiers cost ¬£24.99 and ¬£34.99 per year respectively and save you 25% on each booking, along with other benefits.</li>
                            <li>Make sure you buy a Race Again voucher every time you go. This secures your next session at just ¬£17.99. You can buy these at the track, or if you are a member, by clicking through the email you receive following the event titled "GRID Loyalty Update."  </li>
                            <li>Every booking with TeamSport as a member accumulates 100 loyalty points. You get a free session every time you collect 600 points.</li>
                            <li>Members also receive a free booking on their birthdays.</li>
                        </ol>
                        <p style="padding: 20px 0;">Follow these tips and go regularly, and the average cost per session can be under ¬£25</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">Where do you operate?</button>
                    <div class="faq-answer">
                        <p style="padding: 20px 0;">Right now we only operate in Manchester, UK, but we are open to franchising the idea out to other cities around the UK, and internationally. Fill out the form to join and tell us about your interest in franchising in the message box, if you this is something you would like to discuss.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">How can I apply for membership?</button>
                    <div class="faq-answer">
                        <p style="padding: 20px 0;">You can apply for membership by submitting the application form on our website. Membership is selective, and all applications are personally reviewed to ensure a high-quality, engaged community. Successful applicants gain access to our private WhatsApp community.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- GALLERY SECTION -->
    <section class="section gallery" id="gallery">
        <div class="container">
            <h2 class="section-title">Event Gallery</h2>
            <p class="section-subtitle">Moments from our exclusive karting experiences</p>
            
            <div class="gallery-grid" id="galleryGrid">
                <!-- Static gallery items as fallback -->
                <div class="gallery-item">
                    <img src="photos/the-kartel-logo.png" alt="The Kartel Logo" onclick="openModal(this)">
                    <div class="gallery-overlay">
                        <span>The Kartel Logo</span>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="photos/09-06-25-attendees.jpg" alt="Attendees at the first Kartel Event" onclick="openModal(this)">
                    <div class="gallery-overlay">
                        <span>First Event Attendees</span>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="photos/09-06-25-board.jpg" alt="Event leaderboard from the first Kartel Event" onclick="openModal(this)">
                    <div class="gallery-overlay">
                        <span>Event Leaderboard</span>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="photos/09-06-25-overtake.jpg" alt="Close racing action from the first Kartel Event" onclick="openModal(this)">
                    <div class="gallery-overlay">
                        <span>Close Racing Action</span>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="photos/09-06-25-pub.jpg" alt="Post-race networking at a local pub" onclick="openModal(this)">
                    <div class="gallery-overlay">
                        <span>Post-Race Networking</span>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="photos/09-06-25-r1.jpg" alt="Race 1 results from the first Kartel Event" onclick="openModal(this)">
                    <div class="gallery-overlay">
                        <span>Race 1 Results</span>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="photos/09-06-25-r2.jpg" alt="Race 2 results from the first Kartel Event" onclick="openModal(this)">
                    <div class="gallery-overlay">
                        <span>Race 2 Results</span>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="photos/09-06-25-r3.jpg" alt="Race 3 results from the first Kartel Event" onclick="openModal(this)">
                    <div class="gallery-overlay">
                        <span>Race 3 Results</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- MODAL FOR GALLERY -->
    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="modalImage">
        <div id="caption"></div>
    </div>

    <script>
        // Load dynamic content
        async function loadDynamicContent() {
            await Promise.all([
                loadGalleryPhotos(),
                loadDynamicFAQs(),
                loadExperienceVideo()
            ]);
        }

        // Load dynamic gallery photos
        async function loadGalleryPhotos() {
            try {
                const response = await fetch('/.netlify/functions/get-gallery');

                if (response.ok) {
                    const data = await response.json();
                    const photos = data.photos || [];

                    if (photos.length > 0) {
                        renderDynamicGallery(photos);
                        console.log('‚úÖ Loaded dynamic gallery photos');
                    } else {
                        console.log('üìã No CMS gallery photos, keeping static gallery');
                    }
                } else {
                    console.log('üîÑ Gallery service not available, keeping static gallery');
                }
            } catch (error) {
                console.log('‚ö†Ô∏è Could not load dynamic gallery, keeping static gallery');
            }
        }

        function renderDynamicGallery(dynamicPhotos) {
            const galleryGrid = document.getElementById('galleryGrid');

            const galleryHTML = dynamicPhotos.map(photo => `
                <div class="gallery-item">
                    <img src="${photo.url}" alt="${photo.caption || photo.alt}" onclick="openModal(this)">
                    <div class="gallery-overlay">
                        <span>${photo.caption || `Photo from ${photo.eventName}`}</span>
                        ${photo.eventName ? `<br><small>${photo.eventName} - ${new Date(photo.eventDate).toLocaleDateString()}</small>` : ''}
                    </div>
                </div>
            `).join('');

            galleryGrid.innerHTML = galleryHTML;
        }

        // Load dynamic FAQs
        async function loadDynamicFAQs() {
            try {
                const response = await fetch('/.netlify/functions/get-faqs');

                if (response.ok) {
                    const data = await response.json();
                    const faqs = data.faqs || [];

                    if (faqs.length > 0) {
                        renderDynamicFAQs(faqs);
                        console.log('‚úÖ Loaded dynamic FAQs');
                    } else {
                        console.log('üìã No CMS FAQs, keeping static FAQs');
                    }
                } else {
                    console.log('üîÑ FAQ service not available, keeping static FAQs');
                }
            } catch (error) {
                console.log('‚ö†Ô∏è Could not load dynamic FAQs, keeping static FAQs');
            }
        }

        function renderDynamicFAQs(faqs) {
            const faqAccordion = document.getElementById('faqAccordion');

            const faqHTML = faqs.map(faq => `
                <div class="faq-item">
                    <button class="faq-question">${faq.question}</button>
                    <div class="faq-answer">
                        <div style="padding: 20px 0;">${faq.answer}</div>
                    </div>
                </div>
            `).join('');

            faqAccordion.innerHTML = faqHTML;
            
            // Reattach event listeners for new FAQ items
            attachFAQListeners();
        }

        // Load dynamic experience video
        async function loadExperienceVideo() {
            try {
                const response = await fetch('/.netlify/functions/get-experience-video');

                if (response.ok) {
                    const data = await response.json();
                    const vimeoId = data.vimeoId;

                    if (vimeoId && vimeoId !== '1092055210') {
                        updateExperienceVideoDisplay(vimeoId);
                        console.log('‚úÖ Loaded dynamic experience video');
                    } else {
                        console.log('üìã Using default experience video');
                    }
                } else {
                    console.log('üîÑ Video service not available, keeping default video');
                }
            } catch (error) {
                console.log('‚ö†Ô∏è Could not load dynamic video, keeping default video');
            }
        }

        function updateExperienceVideoDisplay(vimeoId) {
            const videoContainer = document.getElementById('experienceVideoContainer');
            const iframe = videoContainer.querySelector('iframe');
            
            if (iframe && vimeoId) {
                iframe.src = `https://player.vimeo.com/video/${vimeoId}?badge=0&autopause=0&player_id=0&app_id=58479`;
            }
        }

        // Gallery Modal functionality
        function openModal(img) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            const caption = document.getElementById('caption');
            
            modal.style.display = 'block';
            modalImg.src = img.src;
            caption.innerHTML = img.alt;
        }

        function closeModal() {
            document.getElementById('imageModal').style.display = 'none';
        }

        // Close modal when clicking outside the image
        window.onclick = function(event) {
            const modal = document.getElementById('imageModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        // FAQ Accordion functionality
        function attachFAQListeners() {
            const faqQuestions = document.querySelectorAll('.faq-question');
            
            faqQuestions.forEach(question => {
                question.addEventListener('click', function() {
                    const faqItem = this.parentElement;
                    const faqAnswer = faqItem.querySelector('.faq-answer');
                    
                    // Close all other FAQ items
                    faqQuestions.forEach(otherQuestion => {
                        const otherItem = otherQuestion.parentElement;
                        const otherAnswer = otherItem.querySelector('.faq-answer');
                        
                        if (otherItem !== faqItem) {
                            otherItem.classList.remove('active');
                            otherAnswer.style.maxHeight = null;
                        }
                    });
                    
                    // Toggle current FAQ item
                    faqItem.classList.toggle('active');
                    
                    if (faqItem.classList.contains('active')) {
                        faqAnswer.style.maxHeight = faqAnswer.scrollHeight + "px";
                    } else {
                        faqAnswer.style.maxHeight = null;
                    }
                });
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Load all dynamic content
            loadDynamicContent();
            
            // Attach FAQ listeners to static FAQs initially
            attachFAQListeners();
        });

        // LinkedIn URL parsing function
        function parseLinkedInProfile(input) {
            if (!input) return '';
            
            // Remove whitespace
            const cleaned = input.trim();
            
            // If empty after trimming, return empty
            if (!cleaned) return '';
            
            // Common LinkedIn URL patterns to match (including uk.linkedin.com)
            const patterns = [
                /^https?:\/\/(www\.)?linkedin\.com\/in\/([a-zA-Z0-9\-]+)\/?.*$/,
                /^https?:\/\/(www\.)?uk\.linkedin\.com\/in\/([a-zA-Z0-9\-]+)\/?.*$/,
                /^https?:\/\/(www\.)?linkedin\.com\/pub\/([a-zA-Z0-9\-]+)\/?.*$/,
                /^https?:\/\/(www\.)?uk\.linkedin\.com\/pub\/([a-zA-Z0-9\-]+)\/?.*$/,
                /^linkedin\.com\/in\/([a-zA-Z0-9\-]+)\/?.*$/,
                /^uk\.linkedin\.com\/in\/([a-zA-Z0-9\-]+)\/?.*$/,
                /^www\.linkedin\.com\/in\/([a-zA-Z0-9\-]+)\/?.*$/,
                /^www\.uk\.linkedin\.com\/in\/([a-zA-Z0-9\-]+)\/?.*$/,
                /^([a-zA-Z0-9\-]+)$/  // Just the username
            ];
            
            for (const pattern of patterns) {
                const match = cleaned.match(pattern);
                if (match) {
                    // For full URLs, extract the username from group 2
                    // For just username, it's in group 1
                    return match[2] || match[1];
                }
            }
            
            // If no pattern matches, try to extract from any LinkedIn URL
            const fallbackMatch = cleaned.match(/(uk\.)?linkedin\.com\/in\/([a-zA-Z0-9\-]+)/);
            if (fallbackMatch) {
                return fallbackMatch[2];
            }
            
            // If it looks like a username (no spaces, no special chars except hyphens)
            if (/^[a-zA-Z0-9\-]+$/.test(cleaned)) {
                return cleaned;
            }
            
            // Return as-is if we can't parse it
            return cleaned;
        }

        // Form submission functionality
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üîç Form script loaded');
            
            const contactForm = document.getElementById('contactForm');
            
            if (!contactForm) {
                console.error('‚ùå Contact form not found with ID "contactForm"');
                return;
            }
            
            console.log('‚úÖ Contact form found');
            
            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                console.log('üìù Form submission started');
                
                const submitBtn = contactForm.querySelector('.submit-btn');
                const originalText = submitBtn.textContent;
                
                // Show loading state
                submitBtn.textContent = 'Submitting...';
                submitBtn.disabled = true;
                
                // Clear any existing messages
                const existingMessage = document.querySelector('.form-message');
                if (existingMessage) {
                    existingMessage.remove();
                }
                
                try {
                    // Collect form data with new field structure
                    const formData = new FormData(contactForm);
                    const data = {
                        firstName: formData.get('firstName'),
                        lastName: formData.get('lastName'),
                        email: formData.get('email'),
                        company: formData.get('company'),
                        position: formData.get('position'),
                        phone: formData.get('phone'),
                        linkedin: parseLinkedInProfile(formData.get('linkedin')),
                        message: formData.get('message')
                    };
                    
                    console.log('üìä Form data collected:', data);
                    
                    // Validate required fields
                    const requiredFields = ['firstName', 'lastName', 'email', 'company', 'position', 'phone', 'message'];
                    for (const field of requiredFields) {
                        if (!data[field]) {
                            throw new Error(`Missing required field: ${field.replace(/([A-Z])/g, ' $1').toLowerCase()}`);
                        }
                    }
                    
                    console.log('üöÄ Sending request to function...');
                    
                    // Submit to Netlify function
                    const response = await fetch('/.netlify/functions/submit-application', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    });
                    
                    console.log('üì° Response received:', response.status);
                    
                    let result;
                    const responseText = await response.text();
                    console.log('üìÑ Raw response:', responseText);
                    
                    try {
                        result = JSON.parse(responseText);
                        console.log('üìã Parsed response:', result);
                    } catch (parseError) {
                        console.error('‚ùå Failed to parse JSON:', parseError);
                        throw new Error(`Server returned invalid JSON. Status: ${response.status}`);
                    }
                    
                    if (response.ok && result.success) {
                        console.log('‚úÖ Submission successful!');
                        showFormMessage('Application submitted successfully! We will review your application and get back to you soon.', 'success');
                        contactForm.reset();
                    } else {
                        console.error('‚ùå Submission failed:', result);
                        throw new Error(result.error || `Server error: ${response.status}`);
                    }
                    
                } catch (error) {
                    console.error('üí• Submission error:', error);
                    
                    let errorMessage = 'An error occurred. ';
                    
                    if (error.name === 'TypeError' && error.message.includes('fetch')) {
                        errorMessage += 'Network connection failed. Please check your internet and try again.';
                    } else if (error.message.includes('Invalid JSON')) {
                        errorMessage += 'Server configuration error. Please try again later.';
                    } else if (error.message.includes('404')) {
                        errorMessage += 'Function not found. Please contact support.';
                    } else if (error.message.includes('500')) {
                        errorMessage += 'Internal server error. Please try again later.';
                    } else {
                        errorMessage += error.message;
                    }
                    
                    showFormMessage(errorMessage, 'error');
                } finally {
                    // Reset button state
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }
            });
        });

        function showFormMessage(message, type) {
            // Remove any existing message
            const existingMessage = document.querySelector('.form-message');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            // Create new message element
            const messageDiv = document.createElement('div');
            messageDiv.className = `form-message form-message-${type}`;
            messageDiv.textContent = message;
            
            // Insert message after the form
            const contactForm = document.getElementById('contactForm');
            contactForm.parentNode.insertBefore(messageDiv, contactForm.nextSibling);
            
            // Auto-remove success messages after 10 seconds
            if (type === 'success') {
                setTimeout(() => {
                    if (messageDiv.parentNode) {
                        messageDiv.remove();
                    }
                }, 10000);
            }
        }

        // City Selection Functionality
        const cityData = {
            manchester: {
                name: 'Manchester',
                region: 'Greater Manchester',
                description: 'An exclusive networking collective for ambitious professionals in Greater Manchester. Connect, compete, and collaborate through the unique blend of high-speed karting and strategic business networking.',
                membersUrl: 'members.html'
            }
        };

        function handleCitySelection() {
            const urlParams = new URLSearchParams(window.location.search);
            const selectedCity = urlParams.get('city') || 'manchester';
            
            // Update active city button
            document.querySelectorAll('.city-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.city === selectedCity) {
                    btn.classList.add('active');
                }
            });
            
            // Update content based on selected city
            const city = cityData[selectedCity];
            if (city) {
                // Update hero description
                const heroDescription = document.getElementById('heroDescription');
                if (heroDescription) {
                    heroDescription.textContent = city.description;
                }
                
                // Update members area link
                const membersLink = document.querySelector('.header-members-link');
                if (membersLink) {
                    membersLink.href = city.membersUrl;
                }
                
                console.log(`üèôÔ∏è City selected: ${city.name}`);
            }
        }

        // Handle city selection on page load
        document.addEventListener('DOMContentLoaded', handleCitySelection);

        // Handle city button clicks
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('city-btn') && e.target.dataset.city) {
                e.preventDefault();
                const city = e.target.dataset.city;
                const newUrl = `${window.location.pathname}?city=${city}`;
                window.history.pushState({}, '', newUrl);
                handleCitySelection();
            }
        });
    </script>

    <!-- Hidden form for Netlify email notifications -->
    <form name="admin-notifications" netlify netlify-honeypot="bot-field" hidden>
        <input type="hidden" name="form-name" value="admin-notifications" />
        <input type="text" name="to" />
        <input type="text" name="subject" />
        <textarea name="html-body"></textarea>
        <textarea name="text-body"></textarea>
    </form>

</body>
</html>